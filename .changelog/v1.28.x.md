# Release v1.28.x - Changelog

Released: YYYY-MM-DD

## Overview

Fix brain inbox classification â€” model flag, async retry, and observability improvements.

## ğŸ› Fixes

- **Brain classifier model selection**: CLI providers (claude, codex, gemini) now receive `--model` flag so the configured model is actually used â€” previously the model parameter was ignored, defaulting to the CLI's own default (often a slower model), causing classification to time out after 5 minutes
- **Retry classification runs async**: "Retry AI" now works like initial capture â€” sets status to `classifying`, returns immediately, runs AI in background, and emits socket event when done. Previously it blocked the HTTP response waiting for the AI to finish, with no visible progress in the UI
- **Stuck classification recovery**: On server startup, any inbox entries left in `classifying` status (from a crash or restart) are automatically reset to `needs_review`
- **Route body destructuring**: Brain routes (retry, digest/run, review/run) no longer crash when `req.body` is undefined

## ğŸ”§ Improvements

- **AI call logging**: Brain service logs when AI calls start (`ğŸ§  Calling AI: provider / model / stage`) and how long they take (`ğŸ§  AI responded in 3.2s`) for easier debugging
