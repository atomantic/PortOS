# Release v0.24.x - Changelog

Released: YYYY-MM-DD

## Overview

Bidirectional peer registration — adding a peer on one instance now automatically registers the connection on both sides.

## Features

### Bidirectional peer discovery
- **Announce-on-add** — when you add a peer, your instance announces itself to the remote so both sides know about each other
- **Announce-on-probe** — every 30s health probe re-announces to the remote, keeping both sides in sync even after restarts
- **Deduplication** — peers are matched by `instanceId` (primary) or `address:port` (fallback) to prevent duplicate entries
- **New endpoint** `POST /api/instances/peers/announce` — receives peer announcements with Zod-validated `instanceId`, `port`, and optional `name`
- **instanceId tracking** — peer records now store the remote's `instanceId` from health responses for reliable identity matching
